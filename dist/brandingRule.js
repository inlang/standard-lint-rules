var y=(e,t)=>{let[r,n]=e||[];return{level:r===void 0||r===!0?t:r,settings:n}};function W(){throw new Error("setTimeout has not been defined")}function $(){throw new Error("clearTimeout has not been defined")}var B=W,U=$;typeof globalThis.setTimeout=="function"&&(B=setTimeout);typeof globalThis.clearTimeout=="function"&&(U=clearTimeout);function I(e,t){this.fun=e,this.array=t}I.prototype.run=function(){this.fun.apply(null,this.array)};var p=globalThis.performance||{},oe=p.now||p.mozNow||p.msNow||p.oNow||p.webkitNow||function(){return new Date().getTime()};var S;typeof Object.create=="function"?S=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:S=function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t};function l(e,t){var r={seen:[],stylize:H};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),j(t)?r.showHidden=t:t&&Z(r,t),f(r.showHidden)&&(r.showHidden=!1),f(r.depth)&&(r.depth=2),f(r.colors)&&(r.colors=!1),f(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=_),d(r,e,r.depth)}l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function _(e,t){var r=l.styles[t];return r?"\x1B["+l.colors[r][0]+"m"+e+"\x1B["+l.colors[r][1]+"m":e}function H(e,t){return e}function J(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function d(e,t,r){if(e.customInspect&&t&&x(t.inspect)&&t.inspect!==l&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return z(n)||(n=d(e,n,r)),n}var u=k(e,t);if(u)return u;var o=Object.keys(t),i=J(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),v(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return w(t);if(o.length===0){if(x(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(O(t))return e.stylize(Date.prototype.toString.call(t),"date");if(v(t))return w(t)}var a="",c=!1,g=["{","}"];if(V(t)&&(c=!0,g=["[","]"]),x(t)){var P=t.name?": "+t.name:"";a=" [Function"+P+"]"}if(b(t)&&(a=" "+RegExp.prototype.toString.call(t)),O(t)&&(a=" "+Date.prototype.toUTCString.call(t)),v(t)&&(a=" "+w(t)),o.length===0&&(!c||t.length==0))return g[0]+a+g[1];if(r<0)return b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var h;return c?h=q(e,t,r,i,o):h=o.map(function(F){return E(e,t,r,i,F,c)}),e.seen.pop(),G(h,a,g)}function k(e,t){if(f(t))return e.stylize("undefined","undefined");if(z(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(Q(t))return e.stylize(""+t,"number");if(j(t))return e.stylize(""+t,"boolean");if(T(t))return e.stylize("null","null")}function w(e){return"["+Error.prototype.toString.call(e)+"]"}function q(e,t,r,n,u){for(var o=[],i=0,s=t.length;i<s;++i)N(t,String(i))?o.push(E(e,t,r,n,String(i),!0)):o.push("");return u.forEach(function(a){a.match(/^\d+$/)||o.push(E(e,t,r,n,a,!0))}),o}function E(e,t,r,n,u,o){var i,s,a;if(a=Object.getOwnPropertyDescriptor(t,u)||{value:t[u]},a.get?a.set?s=e.stylize("[Getter/Setter]","special"):s=e.stylize("[Getter]","special"):a.set&&(s=e.stylize("[Setter]","special")),N(n,u)||(i="["+u+"]"),s||(e.seen.indexOf(a.value)<0?(T(r)?s=d(e,a.value,null):s=d(e,a.value,r-1),s.indexOf(`
`)>-1&&(o?s=s.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):s=`
`+s.split(`
`).map(function(c){return"   "+c}).join(`
`))):s=e.stylize("[Circular]","special")),f(i)){if(o&&u.match(/^\d+$/))return s;i=JSON.stringify(""+u),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function G(e,t,r){var n=0,u=e.reduce(function(o,i){return n++,i.indexOf(`
`)>=0&&n++,o+i.replace(/\u001b\[\d\d?m/g,"").length+1},0);return u>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function V(e){return Array.isArray(e)}function j(e){return typeof e=="boolean"}function T(e){return e===null}function Q(e){return typeof e=="number"}function z(e){return typeof e=="string"}function f(e){return e===void 0}function b(e){return m(e)&&L(e)==="[object RegExp]"}function m(e){return typeof e=="object"&&e!==null}function O(e){return m(e)&&L(e)==="[object Date]"}function v(e){return m(e)&&(L(e)==="[object Error]"||e instanceof Error)}function x(e){return typeof e=="function"}function L(e){return Object.prototype.toString.call(e)}function Z(e,t){if(!t||!m(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var C=(e,t)=>{throw new Error(`unhandled case: '${e}'${t?` for ${l(t)}`:""}`)};var Y=(e,t=!0)=>{let{type:r}=e;switch(r){case"Resource":return K(e,t);case"Message":return A(e,t);case"Pattern":return M(e);default:return C(r,e)}},K=({lint:e,body:t},r)=>[...e||[],...r?t.flatMap(n=>A(n,r)):[]],A=({lint:e,pattern:t},r)=>[...e||[],...r?M(t):[]],M=({lint:e})=>e||[],D=(e,t,r=!0)=>Y(t,r).filter(n=>n.level===e),me=D.bind(void 0,"error"),he=D.bind(void 0,"warn");var R=(e,t,r)=>(...n)=>{let{level:u,settings:o}=y(n,t);return{...r(o),id:e,level:u}};function X(e){if(!e)throw new Error("You need to pass settings to configure this rule");if(!e.brand)throw new Error("'brand' is required");if(!e.incorrect?.length)throw new Error("'incorrect' needs to contain at least a single item")}var Ne=R("inlang.brandingRule","error",e=>{X(e);let{brand:t,incorrect:r}=e,n=Array.from(new Set([t,...r].map(o=>o.toLowerCase()))).map(o=>new RegExp(o,"ig")),u;return{setup:o=>{u=o.context},visitors:{Pattern:({target:o})=>{if(!o)return;let i=n.flatMap(s=>o.elements.flatMap(a=>a.value.match(s)).filter(Boolean).filter(a=>a!==t));for(let s of i)u.report({node:o,message:`Element '${s}' is incorrectly branded and should be replaced with '${t}'`})}}}});export{Ne as brandingRule};
