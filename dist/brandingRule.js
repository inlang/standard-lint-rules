import{createLintRule as c}from"@inlang/core/lint";function d(t){if(!t)throw new Error("You need to pass settings to configure this rule");if(!t.brand)throw new Error("'brand' is required");if(!t.incorrect?.length)throw new Error("'incorrect' needs to contain at least a single item")}const f=c("inlang.brandingRule","error",t=>{d(t);const{brand:r,incorrect:a}=t,s=Array.from(new Set([r,...a].map(e=>e.toLowerCase()))).map(e=>new RegExp(e,"ig"));let o;return{setup:e=>{o=e.context},visitors:{Pattern:({target:e})=>{if(!e)return;const l=s.flatMap(n=>e.elements.flatMap(i=>i.value.match(n)).filter(Boolean).filter(i=>i!==r));for(const n of l)o.report({node:e,message:`Element '${n}' is incorrectly branded and should be replaced with '${r}'`})}}}});export{f as brandingRule};
