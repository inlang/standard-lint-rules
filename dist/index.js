var w=(e,t)=>{let[r,n]=e||[];return{level:r===void 0||r===!0?t:r,settings:n}};function _(){throw new Error("setTimeout has not been defined")}function k(){throw new Error("clearTimeout has not been defined")}var H=_,J=k;typeof globalThis.setTimeout=="function"&&(H=setTimeout);typeof globalThis.clearTimeout=="function"&&(J=clearTimeout);function K(e,t){this.fun=e,this.array=t}K.prototype.run=function(){this.fun.apply(null,this.array)};var g=globalThis.performance||{},ue=g.now||g.mozNow||g.msNow||g.oNow||g.webkitNow||function(){return new Date().getTime()};var O;typeof Object.create=="function"?O=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:O=function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t};function l(e,t){var r={seen:[],stylize:G};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),C(t)?r.showHidden=t:t&&te(r,t),p(r.showHidden)&&(r.showHidden=!1),p(r.depth)&&(r.depth=2),p(r.colors)&&(r.colors=!1),p(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=q),m(r,e,r.depth)}l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function q(e,t){var r=l.styles[t];return r?"\x1B["+l.colors[r][0]+"m"+e+"\x1B["+l.colors[r][1]+"m":e}function G(e,t){return e}function V(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function m(e,t,r){if(e.customInspect&&t&&R(t.inspect)&&t.inspect!==l&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return M(n)||(n=m(e,n,r)),n}var s=Q(e,t);if(s)return s;var o=Object.keys(t),i=V(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),v(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return b(t);if(o.length===0){if(R(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(T(t))return e.stylize(Date.prototype.toString.call(t),"date");if(v(t))return b(t)}var u="",c=!1,d=["{","}"];if(X(t)&&(c=!0,d=["[","]"]),R(t)){var U=t.name?": "+t.name:"";u=" [Function"+U+"]"}if(x(t)&&(u=" "+RegExp.prototype.toString.call(t)),T(t)&&(u=" "+Date.prototype.toUTCString.call(t)),v(t)&&(u=" "+b(t)),o.length===0&&(!c||t.length==0))return d[0]+u+d[1];if(r<0)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var h;return c?h=Z(e,t,r,i,o):h=o.map(function(I){return L(e,t,r,i,I,c)}),e.seen.pop(),Y(h,u,d)}function Q(e,t){if(p(t))return e.stylize("undefined","undefined");if(M(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(ee(t))return e.stylize(""+t,"number");if(C(t))return e.stylize(""+t,"boolean");if(j(t))return e.stylize("null","null")}function b(e){return"["+Error.prototype.toString.call(e)+"]"}function Z(e,t,r,n,s){for(var o=[],i=0,a=t.length;i<a;++i)z(t,String(i))?o.push(L(e,t,r,n,String(i),!0)):o.push("");return s.forEach(function(u){u.match(/^\d+$/)||o.push(L(e,t,r,n,u,!0))}),o}function L(e,t,r,n,s,o){var i,a,u;if(u=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]},u.get?u.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),z(n,s)||(i="["+s+"]"),a||(e.seen.indexOf(u.value)<0?(j(r)?a=m(e,u.value,null):a=m(e,u.value,r-1),a.indexOf(`
`)>-1&&(o?a=a.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(c){return"   "+c}).join(`
`))):a=e.stylize("[Circular]","special")),p(i)){if(o&&s.match(/^\d+$/))return a;i=JSON.stringify(""+s),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function Y(e,t,r){var n=0,s=e.reduce(function(o,i){return n++,i.indexOf(`
`)>=0&&n++,o+i.replace(/\u001b\[\d\d?m/g,"").length+1},0);return s>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function X(e){return Array.isArray(e)}function C(e){return typeof e=="boolean"}function j(e){return e===null}function ee(e){return typeof e=="number"}function M(e){return typeof e=="string"}function p(e){return e===void 0}function x(e){return y(e)&&E(e)==="[object RegExp]"}function y(e){return typeof e=="object"&&e!==null}function T(e){return y(e)&&E(e)==="[object Date]"}function v(e){return y(e)&&(E(e)==="[object Error]"||e instanceof Error)}function R(e){return typeof e=="function"}function E(e){return Object.prototype.toString.call(e)}function te(e,t){if(!t||!y(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=(e,t)=>{throw new Error(`unhandled case: '${e}'${t?` for ${l(t)}`:""}`)};var A=(e,t=!0)=>{if(Array.isArray(e))return e.flatMap(n=>A(n,t));let{type:r}=e;switch(r){case"Resource":return re(e,t);case"Message":return D(e,t);case"Pattern":return P(e);default:return N(r,e)}},re=({lint:e,body:t},r)=>[...e||[],...r?t.flatMap(n=>D(n,r)):[]],D=({lint:e,pattern:t},r)=>[...e||[],...r?P(t):[]],P=({lint:e})=>e||[],$=(e,t,r=!0)=>A(t,r).filter(n=>n.level===e),be=$.bind(void 0,"error"),xe=$.bind(void 0,"warn");var f=(e,t,r)=>(...n)=>{let{level:s,settings:o}=w(n,t);return{...r(o),id:e,level:s}};var S=e=>(t={})=>Object.entries(e).map(([r,n])=>{let s=t[r];return n(...Array.isArray(s)?s:[s])});var F=f("inlang.additionalKey","warn",()=>{let e,t;return{setup:r=>{e=r.context,t=r.referenceLanguage},visitors:{Resource:({target:r})=>{if(r&&r.languageTag.name===t)return"skip"},Message:({target:r,reference:n})=>{!n&&r&&e.report({node:r,message:`Message with id '${r.id.name}' is specified, but missing in the reference`})}}}});function ne(e){if(!e)throw new Error("You need to pass settings to configure this rule");if(!e.brand)throw new Error("'brand' is required");if(!e.incorrect?.length)throw new Error("'incorrect' needs to contain at least a single item")}var W=f("inlang.brandingRule","error",e=>{ne(e);let{brand:t,incorrect:r}=e,n=Array.from(new Set([t,...r].map(o=>o.toLowerCase()))).map(o=>new RegExp(o,"ig")),s;return{setup:o=>{s=o.context},visitors:{Pattern:({target:o})=>{if(!o)return;let i=n.flatMap(a=>o.elements.flatMap(u=>u.value.match(a)).filter(Boolean).filter(u=>u!==t));for(let a of i)s.report({node:o,message:`Element '${a}' is incorrectly branded and should be replaced with '${t}'`})}}}});var B=f("inlang.missingKey","error",()=>{let e,t;return{setup:r=>{e=r.context,t=r.referenceLanguage},visitors:{Resource:({target:r})=>{if(r&&r.languageTag.name===t)return"skip"},Message:({target:r,reference:n})=>{!r&&n&&e.report({node:n,message:`Message with id '${n.id.name}' missing`})}}}});var _e=S({additionalKeyRule:F,brandingRule:W,missingKeyRule:B});export{_e as standardRulesCollection};
